@(flag: String)(implicit session: play.api.mvc.Session,
flash:play.api.mvc.Flash, request: RequestHeader) 

@meta = {} 

@CSS = {
<!-- embedly preview js -->
    <link rel="stylesheet" href="/beamstream-new/css/extracss/embedly-preview.css" type="text/css" />
<!-- Include professorRegistration.css that is created automatically  -->
<<<<<<< HEAD
<link rel="stylesheet" href="/assets/stylesheets/professorRegistration.css" type="text/css" />
=======
<link rel="stylesheet" href="@routes.Assets.at("/public/stylesheets","professorRegistration.css")" type="text/css" />
>>>>>>> e6f32038c7fa4d530fb56cff219c4fbf2e6bc0ff
<!-- question feed stylesheet -->
	<link href="@routes.Assets.at("/public/stylesheets","questionStreamStyle.css")" rel="stylesheet" type="text/css" />
<!--  prettyPhoto -->
    <link rel="stylesheet" href="/beamstream-new/css/extracss/prettyPhoto.css" type="text/css" media="screen" title="prettyPhoto main stylesheet" charset="utf-8" />
	<link href="@routes.Assets.at("/public/stylesheets","lessgoogledocs/main.css")" rel="stylesheet" type="text/css" />
	<link href="@routes.Assets.at("/public/stylesheets","lessgoogledocs/main-creatgdocs.css")" rel="stylesheet" type="text/css" />
	<link href="@routes.Assets.at("/public/stylesheets","lessgoogledocs/chat.css")" rel="stylesheet" type="text/css" />
<!--  <link rel="stylesheet" href="/beamstream-new/css/cssgoogledocs/normalize.css"> -->


<!-- <link rel="stylesheet" href="/beamstream-new/css/cssgoogledocs/main.css">
        <link rel="stylesheet" href="/beamstream-new/css/cssgoogledocs/header.css">
        <link rel="stylesheet" href="/beamstream-new/css/cssgoogledocs/content.css">
        <link rel="stylesheet" href="/beamstream-new/css/cssgoogledocs/sidebar.css">
 -->
} 

@JS = {
<script type="text/JavaScript" src="@routes.Assets.at("/public/javascripts","lib/bootstrap-dropdownhover.js")"></script>
<script src="@routes.Assets.at("/public/javascripts","BS_social.js")" type="text/javascript"></script>

<!-- Random Id Generation -->

<script type='text/javascript'>
	function randomString(length) {
		var chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz'
				.split('');

		if (!length) {
			length = Math.floor(Math.random() * chars.length);
		}

		var str = '';
		for (var i = 0; i < length; i++) {
			str += chars[Math.floor(Math.random() * chars.length)];
		}
		return str;
	}

	var div = randomString(8);
</script>
<!-- Random Id Generation -->

<!-- bootstrap dialog popups -->
<script src="@routes.Assets.at("/public/javascripts","lib/extralib/bootbox.min.js")" type="text/javascript"></script>
<!-- End -->

<!-- for making pie charts -->
<script type="text/JavaScript" src="@routes.Assets.at("/public/javascripts","lib/extralib/raphael.js")"></script>
<!-- end -->


<!--  prettyPhoto js -->
<!-- <script src="/beamstream-new/lib/extralib/jquery.prettyPhoto.js" type="text/javascript" -->
<!--         charset="utf-8"></script> -->
} 

@bodyCls = {} 

@bodyModule = {} 

@bodyJS = {
<script type="text/JavaScript" src="@routes.Assets.at("/public/javascripts","lib/jquery.preview.full.min.js")"></script>
<script type="text/javascript">
	$('#msg-area').preview({
		key : '4d205b6a796b11e1871a4040d3dc5c07'
	});
	$('#Q-area').preview({
		key : '4d205b6a796b11e1871a4040d3dc5c07'
	});

	Array.prototype.remove = function() {
		var what, a = arguments, L = a.length, ax;
		while (L && this.length) {
			what = a[--L];
			while ((ax = this.indexOf(what)) !== -1) {
				this.splice(ax, 1);
			}
		}
		return this;
	};
</script>


<!-- for pie charts  -->
<script type="text/javascript">
	function Donut(paper) {
		this.paper = paper, this.rad = Math.PI / 180, this.chart = paper.set();

		this.sector = function(cx, cy, r, r2, startAngle, endAngle, params) {
			//console.log(params.fill);
			var x1 = cx + r * Math.cos(-startAngle * this.rad), x2 = cx + r
					* Math.cos(-endAngle * this.rad), y1 = cy + r
					* Math.sin(-startAngle * this.rad), y2 = cy + r
					* Math.sin(-endAngle * this.rad), xx1 = cx + r2
					* Math.cos(-startAngle * this.rad), xx2 = cx + r2
					* Math.cos(-endAngle * this.rad), yy1 = cy + r2
					* Math.sin(-startAngle * this.rad), yy2 = cy + r2
					* Math.sin(-endAngle * this.rad);

			return paper.path(
					[ "M", xx1, yy1, "L", x1, y1, "A", r, r, 0,
							+(endAngle - startAngle > 180), 0, x2, y2, "L",
							xx2, yy2, "A", this.rin, this.rin, 0,
							+(endAngle - startAngle > 180), 1, xx1, yy1, "z" ])
					.attr(params);

		}
	}

	Donut.prototype = {

		create : function(cx, cy, r, rin, rout, values, labels, stroke) {

			this.cx = cx;
			this.cy = cy;
			this.r = r;
			this.rin = rin;
			this.rout = rout;

			this.angle = 0;
			this.start = 0

			this.values = values;
			this.labels = labels;
			this.stroke = stroke;

			var len = values.length;
			var i = 0;
			this.total = 0;

			for (var i = 0; i < len; i++) {
				this.total += this.values[i];
			}

			i = 0;
			while (i < len) {
				this._createSlice(i++);
			}

		},

		_createSlice : function(j) {

			var value = this.values[j];
			var angleplus = 360 * value / this.total, countPer = (100 * value / this.total)
					.toFixed(0);
			var popangle = this.angle + (angleplus / 2), color = Raphael.hsb(
					this.start, .75, 1), ms = 500, delta = 30;
			var totalangle = this.angle + angleplus;

			var bcolor = Raphael.hsb(this.start, 1, 1);

			if (totalangle == 360) {
				var p = this.sector(this.cx, this.cy, this.r, this.rin,
						this.angle, totalangle - 0.00017453292, {
							fill : "90-" + bcolor + "-" + color,
							stroke : this.stroke,
							"stroke-width" : 1
						});
				bigp = this.sector(this.cx, this.cy, this.rout, this.rin,
						this.angle, totalangle - 0.00017453292, {
							fill : "90-" + bcolor + "-" + color,
							stroke : this.stroke,
							"stroke-width" : 1
						}).hide();

			} else {
				var p = this.sector(this.cx, this.cy, this.r, this.rin,
						this.angle, this.angle + angleplus, {
							fill : "90-" + bcolor + "-" + color,
							stroke : this.stroke,
							"stroke-width" : 1
						});
				bigp = this.sector(this.cx, this.cy, this.rout, this.rin,
						this.angle, this.angle + angleplus, {
							fill : "90-" + bcolor + "-" + color,
							stroke : this.stroke,
							"stroke-width" : 1
						}).hide();

			}
			var txt = this.paper.text(
					this.cx + (this.r + delta + 15)
							* Math.cos(-popangle * this.rad),
					this.cy + (this.r + delta + 1)
							* Math.sin(-popangle * this.rad), countPer + '%')
					.attr({
						fill : "#3F5A6C",
						stroke : "none",
						opacity : 1,
						"font-size" : 14,
						"font-weight" : "bold"
					});
			this.angle += angleplus;
			this.chart.push(p);
			this.chart.push(txt);
			this.start += .1;
		},
	}
	var donut = [];
</script>

} 

@sideBar = { @views.html.sidebar.render } @header = {

@views.html.header.render } 

@footer = { @views.html.footer.render }

<style type="text/css">
#innerSubList {
	position: absolute;
	top: 10px;
	list-style: none;
	left: 150px;
	cursor: pointer;
	display: none;
}

ul li#showSubList:hover ul {
	display: block;
}
</style>

@main("My Stream", "Body", meta, CSS, JS, bodyModule, bodyJS, sideBar, header, footer){

<!--<div id="professorRegistration" data-model="question" data-module="view/professorRegistrationView" data-url="/"
		data-tpl="templates/professorRegistration.tpl" class="right-container"></div>-->

 <div id="MyStream" data-module="view/myStreamView">
	<div class="right-container">
		<div class="stream-header">
			<div id="myStream" class="stream-header-left" data-value=""></div>
			<div class="stream-header-right">
				<a href="#" class="green-btn green-btn-new" style="display: none;">
					<span class="visual visual-new"></span> <span
					class="texter texter-new"> <span></span> to this class
				</span>
				</a>
			</div>
		</div>



		<div class="clear flipques">


			<span id="top-left-gdocs">Create a:</span>
			<div class="btn-group" id="gdoc-link">
				<a class="dropdown-toggle new-google-btn" data-toggle="dropdown"
					data-hover="dropdown" href="#">
					<div class="google-doc-icn"></div> <span>Google Doc</span>
				</a>
				<ul class="dropdown-menu google-doc-dropdown" role="menu"
					aria-labelledby="dropdownMenu">
					<li id="showSubList"><a>Create<span class="menu-arrow"></span></a>
						<ul id="innerSubList">
							<li><a id="creategdocument" href="#" ><span
									class="menu-arrow"></span>Document</a></li>
							<li><a id="creategspreadsheet" href="#"><span
									class="menu-arrow"></span>Spreadsheet</a></li>
							<li><a id="creategpresentation" href="#"><span
									class="menu-arrow"></span>Presentation</a></li>
						</ul></li>
					<li><a id="uploadgdoc" href="#">Upload</a> <span
						class="menu-arrow"></span></li>
					<li><a id="showgdoc" href="#">Access</a> <span
						class="menu-arrow"></span></li>
				</ul>
			</div>
			<ul class="stream-tab" id="streamTab" style="float: left;">
				<li id="discussion" id="discussionsLink" class="active"><a
					href="#discussionsView" id="discussions-link" data-toggle="tab">Back
						to Discussions</a></li>
				<li class="dropdown"><a data-toggle="dropdown"
					class="dropdown-toggle" href="#" id="flipQuestion"
					data-hover="dropdown">Questions</a>
					<div id="questions-icon"></div>
					<ul class="dropdown-menu" id="questions-dropdown">
						<li id="question" class="ques"><a id="questionsLink"
							data-toggle="tab" href="#questionsView">Ask a Question</a></li>
						<li id="question" class="quespoll"><a
							id="questions-poll-Link" data-toggle="tab" href="#questionsView">Add
								a poll</a></li>
					</ul></li>
			</ul>
		</div>


		<div class="tab-content">
			<!--   to get all messages of a stream - How to make call like  data-url="/allMessagesForAStream/streamId/pageLimit/pageNo" dynamically ?  -->
			<div class="tab-pane active" id="discussionsView"
				data-model="discussion">

				<div class="ask-outer" id="main-text-input-wrapper">
					<div class="ask-content">
						<div class="follw-left">
							<div class="ask-img">
								<img id="main-photo" src="" alt="">
							</div>
						</div>
						<div class="ask-info">
							<div class="ask-comment" id="type-status-comment">
								<div class="loadingImage">
												<div id="floatingCirclesG" class="floatingCirclesG-files">
												<div class="f_circleG" id="frotateG_01"></div>
												<div class="f_circleG" id="frotateG_02"></div>
												<div class="f_circleG" id="frotateG_03"></div>
												<div class="f_circleG" id="frotateG_04"></div>
												<div class="f_circleG" id="frotateG_05"></div>
												<div class="f_circleG" id="frotateG_06"></div>
												<div class="f_circleG" id="frotateG_07"></div>
												<div class="f_circleG" id="frotateG_08"></div>
											</div>
											</div>
								<form class="question-ask ask-disccution" action="">
									<textarea id="msg-area" name="" cols="" rows=""
										class="question-ask-search"
										placeholder="Drop some knowledge..."
										onfocus="this.placeholder = ''"
										onblur="this.placeholder = 'Drop some knowledge...'"></textarea>
									<a id="post-button" class="ask-button">POST</a>
									<div id="file-upload-loader" style="display: none;">
										<!--<img src ="images/loading.gif"> -->
									</div>
									
									<div id="upload-files1" class="btn-group attach-drop ">
										<button id="upload-files2"
											class="attach-drop-button drag-rectangle attach-drop-bg "
											data-toggle="dropdown" data-original-title="Upload Files">
										</button>
										<ul id="discussion-file-upload"
											class="dropdown-menu  attach-dropdwon">
											<li><a href="#">Class Document</a></li>
											<li><a href="#">Assignment</a></li>
											<li><a href="#">Homework </a></li>
											<li><a href="#">Notes</a></li>
											<li><a href="#">Project</a></li>
											<li><a href="#">Lecture </a></li>
											<li><a href="#">Reference Material</a></li>
											<li><a href="#">Tutorial</a></li>
											<li><a href="#">EdTech Tool </a></li>
											<li><a href="#">Amusement</a></li>
											<li><input type="text" placeholder="+Add a new category"></li>
										</ul>
									</div>


									<div id="upload-files1" class="btn-group attach-drop "
										style="display: none;">
										<button id="upload-files2"
											class="btn attach-drop-button drag-rectangle attach-drop-bg tag-btn"
											data-toggle="dropdown" data-original-title="Tag"></button>
										<ul id="discussion-file-upload"
											class="dropdown-menu  attach-dropdwon">
											<li><a href="#">#this</a></li>
											<li><a href="#">#that</a></li>
											<input type="text" placeholder="+Add a new Tag">
										</ul>
									</div>
								</form>
								<ul id="uploded-file-area" class="answer">
									<li id="file-name"></li>
									<li>
										<div class="progress-container">
											<div class="progress progress-striped active" style="display:none;">
												<div class="bar"></div>
												
											</div>
										<div id="fileUploadingImage">
											<div id="floatingCirclesG" class="floatingCirclesG-files">
												<div class="f_circleG" id="frotateG_01"></div>
												<div class="f_circleG" id="frotateG_02"></div>
												<div class="f_circleG" id="frotateG_03"></div>
												<div class="f_circleG" id="frotateG_04"></div>
												<div class="f_circleG" id="frotateG_05"></div>
												<div class="f_circleG" id="frotateG_06"></div>
												<div class="f_circleG" id="frotateG_07"></div>
												<div class="f_circleG" id="frotateG_08"></div>
											</div>
										</div>
										</div>
									</li>
									<div class="fileUploadMsg" style="float:right;margin-top:-41px;margin-right: 10px;">File Uploading.... Please wait.</div>
								</ul>
								<div class="embed-info">
									<div class="upload-conatiner">
										<h5>Select an image or video file on your computer.</h5>
										<input type="file" id="upload-files-area"
											name="upload-files-area">
									</div>
								</div>



								<!-- <ul id="uploded-file-area" class="answer">
									<li id="file-name"></li> name="upload-files-area"> -->
							</div>
						</div>
						<!-- <div id="file-upload-loader"></div> -->

					</div>

				</div>


				<div class="question-sort">
					<h5>SORT BY</h5>
					<div class="btn-group dropdown-outer" id="rock-sort">
						<button class="btn seetings-toggle sort-toogle  sort-toogle-none"
							id="sortBy-select" value="date">Most Recent</button>
						<button class="btn dropdown-toggle seetings-toggle"
							data-toggle="dropdown">
							<span class="caret settings-caret main-stream-dropdown"></span>
						</button>
						<ul class="dropdown-menu rate-sub" id="sortBy-list">
							<li><a href="#" name="most-recent" value="date">Most
									Recent</a></li>
							<li><a href="#" name="highest-rated" value="rock">Highest
									Rated</a></li>
							<!-- >li><a href="#" name="most-shared" >Most Shared </a></li-->
						</ul>
					</div>
					<div class="btn-group dropdown-outer" id="stream-date-sort">
						<button class="btn seetings-toggle sort-toogle  sort-toogle-none"
							id="date-sort-select" value="week">This Week</button>
						<button class="btn dropdown-toggle seetings-toggle"
							data-toggle="dropdown">
							<span class="caret settings-caret main-stream-dropdown"></span>
						</button>
						<ul class="dropdown-menu rate-sub" id="date-sort-list">
							<li><a href="#" value="day">Today</a></li>
							<li><a href="#" value="week">This Week</a></li>
							<li><a href="#" value="month">This Month </a></li>
							<li><a href="#" value="all">All Dates </a></li>
						</ul>
					</div>
					
				
					<form class="all-search" action="">
						<span></span> 
						<span class="backToNormal"> </span>
						<input type="text" id="sort_by_key"
							class="quest-search" placeholder="Search Discussions" autocomplete="off">
						
					</form>
				</div>

				<!-- <div id="messageListView" data-model="discussion"
                                        data-module="view/messageListView" data-url="/"
                                        data-tpl="templates/discussionMessage.tpl"></div>

                                <div id="discussion-pagination" class="page-loader">
                                        <img src="/beamstream-new/images/loading-bars.gif" alt="">
                                </div> -->
                                
                                
                                
                                <!--                                    -->
		<!-- Modal for create google doc starts -->
		<!--                                    -->

		<div id="creategoogledoc"
			class="modal hide fade invite-pop-up-googledoc"
			aria-labelledby="myModalLabel" aria-hidden="true">
			<div id="floatingCirclesG">
				<div class="f_circleG" id="frotateG_01"></div>
				<div class="f_circleG" id="frotateG_02"></div>
				<div class="f_circleG" id="frotateG_03"></div>
				<div class="f_circleG" id="frotateG_04"></div>
				<div class="f_circleG" id="frotateG_05"></div>
				<div class="f_circleG" id="frotateG_06"></div>
				<div class="f_circleG" id="frotateG_07"></div>
				<div class="f_circleG" id="frotateG_08"></div>
			</div>

			<div class="maincreatedocs">
				<div class="heading">
					<div class="close">
						<div class="close-icon close" id="create-google-docs-close">
							<img width="22" height="22"
								src="/beamstream-new/images/close-pop.png">
						</div>
					</div>
				</div>
				<div class="header">
					<div class="labelcreatedoc">
						<div id="create-google-doc-popup"></div>
						<div id="create-google-doc-type">#</div>
					</div>
					<div class="file-status">
						<div class="view-container">
							<img src="/beamstream-new/img/views.jpg" class="views-icon">
							<div class="views">0</div>
						</div>
						<div class="rocks-container">
							<img src="/beamstream-new/img/rocks.jpg" class="rocks-icon">
							<div class="rocks">0</div>
						</div>
						<div class="comments-container">
							<img src="/beamstream-new/img/comments.jpg" class="comments-icon">
							<div class="comments">0</div>
						</div>
					</div>
				</div>

				<div class="contentcreatedoc"></div>

				<div class="sidebarcreategdocs">

					<form action="" 
						id="createAndPublishForm">
						<div class="sidebar-subheading">Publish as</div>
						<div class="styled-select">
							<select id="aDiscussion" name="aDiscussion">
								<option value="aDiscussion">A Discussion</option>
							</select>
						</div>

						<div class="sidebar-subheading">Post Privacy</div>
						<div class="styled-select">
							<select id="streamSelectOption" name="streamId">
							</select>
						</div>


						<input type="checkbox" name="postToFileMedia" value="true" checked="checked" id="postToFileMedia">
						Post to Files & Media

						<div class="sidebar-subheading">comment</div>

						<textarea name="description" class="commentcreatedoc"
							onfocus="this.value=''; setbg( '#e5fff3');"
							onblur="setbg('white')" id="description">
                </textarea>

						<ul class="social">
							<div class="sidebar-subheading share-on">share on:</div>
							<li><a class="gp" href="#"><img
									src="/beamstream-new/img/gp.png"></a></li>
							<li><a class="tw" href="#"><img
									src="/beamstream-new/img/tw.png"></a></li>
							<li><a class="fb" href="#"><img
									src="/beamstream-new/img/fb.png"></a></li>
							<li><a class="li" href="#"><img
									src="/beamstream-new/img/li.png"></a></li>
							<li><a class="pin" href="#"><img
									src="/beamstream-new/img/pin.png"></a></li>
						</ul>

						<div class="publish-btn" id="createPublish">
							<img src="/beamstream-new/img/publish.png" class="publish-icon">
							<input type="button" value="Publish Doc" class="publish-txt">
						</div>
						<div class="cancel-publish">
							<div class="cancel-publish-txt">Remove Doc</div>
						</div>
						<input type="hidden" id="docName" name=docName value="">
						 <input type="hidden" id="docUrl" name=docUrl value="">
					</form>
				</div>
			</div>


		</div>
		
		<!-- Modal for show google doc starts -->

		<div id="showgoogledoc"
			class="modal hide fade invite-pop-up-googledoc"
			aria-labelledby="myModalLabel" aria-hidden="true">



			<div class="main">
				<div class="heading">
					<div class="title">Access Google Drive</div>
					<div class="close">
						<div id="googleDocGeneralCloseBtn" class="close-icon close" aria-hidden="true"
							data-dismiss="modal">
							<img width="22" height="22"
								src="/beamstream-new/images/close-pop.png">
						</div>
					</div>
				</div>
				<!-- heading end -->
				<div class="content_docs">
					<div class="drive-nav">
						<div class="folders">
							<li class="open-folder">My Drive
							<li class="sub-folder">Design</li>
							<li class="sub-folder">Develpment</li>
							<li class="sub-folder">Portfolio</li>
							</li>
							<div class="closed-folder-container">
								<li class="closed-folder">Shared with me</li>
								<li class="closed-folder">Started</li>
								<li class="closed-folder">Recent</li>
								<li class="closed-folder">More</li>
							</div>
						</div>
					</div>
					<!-- drive-nav end -->


					<div class="drive-view" id="docsview">

						<div class="drive-view-header">
							<div class="drive-folder-txt-container">
								<div class="drive-folder-txt">My Drive</div>
								<div class="folder-arrow">></div>
								<div class="drive-selected">Design</div>
							</div>
						</div>
						<div id="floatingCirclesG">
							<div class="f_circleG" id="frotateG_01"></div>
							<div class="f_circleG" id="frotateG_02"></div>
							<div class="f_circleG" id="frotateG_03"></div>
							<div class="f_circleG" id="frotateG_04"></div>
							<div class="f_circleG" id="frotateG_05"></div>
							<div class="f_circleG" id="frotateG_06"></div>
							<div class="f_circleG" id="frotateG_07"></div>
							<div class="f_circleG" id="frotateG_08"></div>
						</div>
					</div>
				</div>
				<!-- content end -->


			</div>
			<!-- main end -->


			<div class="sidebarcreategdocs showgoogledocsSidebar">

				<form action="" 
						id="showAndPublishForm">
						<div class="sidebar-subheading">Publish as</div>
						<div class="styled-select">
							<select id="aDiscussion" name="aDiscussion">
								<option value="aDiscussion">A Discussion</option>
							</select>
						</div>

						<div class="sidebar-subheading">Post Privacy</div>
						<div class="styled-select">
							<select id="streamSelectOption" name="streamId">
							</select>
						</div>


						<input type="checkbox" name="postToFileMedia" value="true" checked="checked" id="postToFileMedia">
						Post to Files & Media

						<div class="sidebar-subheading">comment</div>

						<textarea name="description" class="commentcreatedoc"
							onfocus="this.value=''; setbg( '#e5fff3');"
							onblur="setbg('white')" id="description">
                </textarea>

						<ul class="social">
							<div class="sidebar-subheading share-on">share on:</div>
							<li><a class="gp" href="#"><img
									src="/beamstream-new/img/gp.png"></a></li>
							<li><a class="tw" href="#"><img
									src="/beamstream-new/img/tw.png"></a></li>
							<li><a class="fb" href="#"><img
									src="/beamstream-new/img/fb.png"></a></li>
							<li><a class="li" href="#"><img
									src="/beamstream-new/img/li.png"></a></li>
							<li><a class="pin" href="#"><img
									src="/beamstream-new/img/pin.png"></a></li>
						</ul>

						<div class="publish-btn" id="showPublish">
							<img src="/beamstream-new/img/publish.png" class="publish-icon">
							<input type="button" value="Publish Doc" class="publish-txt">
						</div>
						<div class="cancel-publish">
							<div class="cancel-publish-txt">Remove Doc</div>
						</div>
						<input type="hidden" id="docName" name=docName value="">
						 <input type="hidden" id="docUrl" name=docUrl value="">
					</form>
			</div>



		</div>
		<!-- Modal for access google doc ends-->
		
		
		
		<!-- Modal for create google doc ends-->
                                

			</div>

			<div class="tab-pane " id="questionsView" data-model="question">

				<div class="ask-outer" id="main-text-input-wrapper" style="height:0px;">
					<div class="ask-content">
						<div class="follw-left">
							<div class="ask-img">
								<img id="Q-main-photo" src="" alt="">
							</div>
						</div>
						<div class="ask-info">
							<div class="ask-comment" id="type-status-comment">
								<form class="question-ask ask-disccution" action="">
									<textarea id="Q-area" name="" cols="" rows=""
										class="question-ask-search"
										placeholder="Ask your own question here....."
										onfocus="this.placeholder = ''"></textarea>


									<div id="upload-files1" class="btn-group attach-drop ">
										<button id="upload-files2"
											class="attach-drop-button drag-rectangle attach-drop-bg"
											data-toggle="dropdown" data-original-title="Upload Files">
										</button>
										<ul id="question-file-upload"
											class="dropdown-menu  attach-dropdwon">
											<li><a href="#">Class Document</a></li>
											<li><a href="#">Assignment</a></li>
											<li><a href="#">Homework </a></li>
											<li><a href="#">Notes</a></li>
											<li><a href="#">Project</a></li>
											<li><a href="#">Lecture </a></li>
											<li><a href="#">Reference Material</a></li>
											<li><a href="#">Tutorial</a></li>
											<li><a href="#">EdTech Tool </a></li>
											<li><a href="#">Amusement</a></li>
											<input type="text" placeholder="+Add a new category">
										</ul>
									</div>
								</form>
							



								<ul id="pollArea" class="answer">
									<li><input name="Answer Is Yes" type="text" id="option1"
										placeholder="Add 1st Poll Option" class="polloptionarea"></li>
									<li><input name="Add Option" type="text" id="option2"
										placeholder="Add 2nd Poll Option" class="polloptionarea"></li>
									<a href="#" class="add-option">Another Poll Option</a>
								</ul>
								<ul id="Q-file-area" class="answer">
									<li id="Q-file-name"></li>
									<li>
										<div class="progress-container" >
											<div class="progress progress-striped active" style="display: none;">
												
											</div>

                                                                                   <div id="questionFileUploadingImage">
											<div id="floatingCirclesG" class="floatingCirclesG-files">
												<div class="f_circleG" id="frotateG_01"></div>
												<div class="f_circleG" id="frotateG_02"></div>
												<div class="f_circleG" id="frotateG_03"></div>
												<div class="f_circleG" id="frotateG_04"></div>
												<div class="f_circleG" id="frotateG_05"></div>
												<div class="f_circleG" id="frotateG_06"></div>
												<div class="f_circleG" id="frotateG_07"></div>
												<div class="f_circleG" id="frotateG_08"></div>
											</div>
										</div>
										</div>
									</li>
<div class="fileUploadMsg" style="float:right;margin-top:-41px;margin-right: 10px;">File Uploading.... Please wait.</div>
								</ul>
<div class="embed-info">
									<div class="upload-conatiner">
										<h5>Select an image or video file on your computer.</h5>
										<input type="file" id="Q-files-area"
											name="Q-files-area">
									</div>
								</div>

								<a id="post-question" class="ask-button question-button">ASK</a>
								<div id="file-upload-loader" style="display: none;">
									<!--<img src ="images/loading.gif"> -->
								</div>



								<div id="upload-files1" class="btn-group attach-drop "
									style="display: none;">
									<button id="upload-files2"
										class="btn attach-drop-button drag-rectangle attach-drop-bg tag-btn"
										data-toggle="dropdown" data-original-title="Tag"></button>
									<ul id="question-file-upload"
										class="dropdown-menu  attach-dropdwon">
										<li><a href="#">#this</a></li>
										<li><a href="#">#that</a></li>
										<input type="text" placeholder="+Add a new Tag">
									</ul>

								</div>
							</div>

							<div class="ask-iconinfo">

								<label class="checkbox private-chaeck" style="display: none">
									<input id="Q-private-to" type="checkbox" checked="checked">
									Private to:
								</label>
								<div class="btn-group class-dropdown " style="display: none">
									<button class="btn class-dropdown-bg" id="Q-privateTo-select">Class</button>
									<button class="btn class-dropdown-button "
										data-toggle="dropdown">
										<span class="caret sort-caret"></span>
									</button>
									<ul class="dropdown-menu Q-stream-list" id="Q-privatelist">
									</ul>
								</div>
								<a href="#" class="add-poll ">Add Poll</a>
								<ul id="share-discussions" class="social-icons"
									style="display: none;">
									<span>Share On:</span>
									<li name="email" class="google-plus"><a href="#">Google
											plus</a></li>
									<li name="twitter" class="twitter"><a href="#">Twitter</a>
									</li>
									<li name="facebook" class="facebook"><a href="#">facebook</a>
									</li>
									<li name="linkedin" class="linkedin"><a href="#">linked
											in</a></li>
									<li name="plus" class="plus"><a href="#">p</a></li>
									<!--  <li><img src="/beamstream-new/images/drive.jpg" height="35" width="35"></li>
                                              <li><img src="/beamstream-new/images/addGoogle.jpg" height="25" width="25"></li>
                                                <li><a href="/uploadNow"><img src="/beamstream-new/images/uploadGoogle.jpg" height="25" width="25" style="float:left"/></a></li> -->
								</ul>
							</div>
						</div>
					</div>
					<div class="clear"></div>
				</div>

				<div class="question-sort">
					<h5>SORT BY</h5>
					<div class="btn-group dropdown-outer" id="rock-sort">
						<button class="btn seetings-toggle sort-toogle  sort-toogle-none"
							id="sortBy-select" value="date">Most Recent</button>
						<button class="btn dropdown-toggle seetings-toggle"
							data-toggle="dropdown">
							<span class="caret settings-caret main-stream-dropdown"></span>
						</button>
						<ul class="dropdown-menu rate-sub" id="sortBy-list">
							<li><a href="#" name="most-recent" value="date">Most
									Recent</a></li>
							<li><a href="#" name="highest-rated" value="rock">Highest
									Rated</a></li>
							<!-- >li><a href="#" name="most-shared" >Most Shared </a></li-->
						</ul>
					</div>
					<div class="btn-group dropdown-outer" id="stream-date-sort">
						<button class="btn seetings-toggle sort-toogle  sort-toogle-none"
							id="date-sort-select" value="week">This Week</button>
						<button class="btn dropdown-toggle seetings-toggle"
							data-toggle="dropdown">
							<span class="caret settings-caret main-stream-dropdown"></span>
						</button>
						<ul class="dropdown-menu rate-sub" id="date-sort-list">
							<li><a href="#" value="day">Today</a></li>
							<li><a href="#" value="week">This Week</a></li>
							<li><a href="#" value="month">This Month </a></li>
							<li><a href="#" value="all">All Dates </a></li>
						</ul>
					</div>
					<form class="all-search" action="">
						<span></span> 
						<span class="backToNormal"> </span> <input type="text" id="sort_by_key_questions"
							class="quest-search" placeholder="Search Questions">
					</form>
				</div>
				<!-- <div id="questionListView" data-model="question"
													data-module="view/questionListView" data-url="/"
														data-tpl="templates/questionMessage.tpl"></div>

								    		<div id="question-pagination" class="page-loader"
																style="display: none;">
													<img src="/beamstream-new/images/loading-bars.gif" alt="">
									</div> -->







			</div>




			<div id="messageListView" data-model="discussion"
				data-module="view/messageListView" data-url="/"
				data-tpl="templates/discussionMessage.tpl"></div>



			<div id="questionListView" data-model="question"
				data-module="view/questionListView" data-url="/"
				data-tpl="templates/questionMessage.tpl"></div>

			<div id="discussion-pagination" class="page-loader">
				<img src="/beamstream-new/images/loading-bars.gif" alt="">
			</div>

			<div class="tab-pane " id="deadlinesView" data-model="userSchool"
				data-tpl="templates/deadlines.tpl">
				<div class="calender-outer overview-boxes">
					<h3>
						Deadlines Coming <span>Soon!</span>
					</h3>
					<a href="#" class="rock-btn"><span>57</span> <span
						class="rocktext">
							<h2>Rock It</h2>
							<p>Click to make us work harder.</p>
					</span> </a>
				</div>
			</div>





			<div class="tab-pane " id="calendarView">
				<div class="calender-outer overview-boxes">
					<h3>
						Calendar Coming <span>Soon!</span>
					</h3>
					<a href="#" class="rock-btn"><span>57</span> <span
						class="rocktext">
							<h2>Rock It</h2>
							<p>Click to make us work harder.</p>
					</span> </a>
				</div>
			</div>

		</div>
		<!-- Google Doc Popup modal starts -->
		<div id="document-"  class="modal hide fade white-modal-block doc-modal" tabindex="-1"
			   role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="box-shadow:none !important;border:none !important">
			
				<div id="googleDocPopupCloseBtn" class="close-icon close" aria-hidden="true"
						data-dismiss="modal" style="margin: 20px 0px 0px 0px;">
						<img width="22" height="22"
							src="/beamstream-new/images/close-pop.png">
					</div>	
					
				
				<div class="modal-header" style="background:#fff;margin-top: 45px;">
				
						  		<input type="button" onclick="download()">
      							<div class="downloadbutton">
      							<button class="btn btn-mini download" type="button">Download</button>
      							 <div id="current-date-googleDoc"></div>
      							</div>
     							 <h3></h3>
     							
							</div>
							<div class="modal-body" style="overflow:scroll;background:#fff;"> 

							<h4></h4>
								<input type="hidden" id="dwnload-url" value="" >
						  		<p>
								  	<iframe id ="iframe-" src="" scrolling="NO"  width="963" height="500" style="border: none">
										<p>Your browser does not support iframes.</p>
									</iframe> 
								</p>	
							</div>
						</div>
            <!-- Google Doc Popup modal ends -->



		











		

		<!--                                    -->
		<!-- Modal for upload google doc starts -->
		<!--                                    -->

		<div id="uploadgoogledoc"
			class="modal hide fade invite-pop-up-googledoc" role="dialog"
			aria-labelledby="myModalLabel" aria-hidden="true">


			<div class="heading">
				<div class="title">Upload Files To Google Drive</div>
				<div class="close">
					<div class="close-txt" class="close" aria-hidden="true"
						data-dismiss="modal">Close</div>
					<div id="googleDocGeneralCloseBtn" class="close-icon close" aria-hidden="true"
						data-dismiss="modal">
						<img width="22" height="22"
							src="/beamstream-new/images/close-pop.png">
					</div>
				</div>
			</div>
			<!-- heading end -->

			<div class="uploadgdocs">
				<form action="/uploadToGoogleDrive" enctype="multipart/form-data"
					method="post" id='uploadForm'>
					<input type="file" name="picture" id="uplaodfilestogoogle">
					<input type="submit" value="UPLOAD" class="upload-doc"
						id="uploadToGoogle">
				</form>
			</div>

			<!-- Modal for upload google doc ends -->


		</div>

		<!--  Media edit popup section -->
		<div id="mediaEditView" data-model="usermedia"
			data-module="view/mediaEditView">

			<div id="editMedia"
				class="modal hide fade registration-modal white-modal-block"
				tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
				aria-hidden="true">
				<div class="modal-header registration-modal-header">
					<h3 id="edit-file-name">Edit</h3>
					<button type="button" class="close" data-dismiss="modal"
						aria-hidden="true">Close</button>
				</div>
				<div class="modal-body">

					<div class="share-content edit-popup-block">
						<input type="hidden" id="docId" value=""> <input
							type="hidden" id="docType" value="">
						<fieldset class="field" style="position: relative">
							<!-- <h1><label for="docName" name="docName">Title </label></h1> -->
							<input id="docName" data-name="usermedia.docName" name="docName"
								type="text" placeholder="Title">

						</fieldset>
						<br> <br>

						<fieldset class="field" style="position: relative">
							<!-- <label for="docDescription" name="docDescription">Description <span class="star"> </span></label> -->
							<input id="docDescription" type="text"
								data-name="usermedia.docDescription" name="docDescription"
								placeholder="Description">
						</fieldset>

						<br> <br> <a id="editDoc" class="btn-primary pull-left "
							href="#">Save & Update</a>

					</div>
				</div>
			</div>
		</div>


		<div id="questionStreamView">
		
		
		</div>


<div id="sidequestionexpand">
			<div class="rate-lecturer" id="number-new-questions-container">
				<div id="rate-lecturer-question-icon"></div>
				<div id="number-new-questions"></div>
			</div>
		</div> 	

		


	</div>





	<div class="chatbox" style="display: none;"></div>
	<div class="chatbox_own" style="display: none;"></div>

	<script>
		startChat('@session.get("userId").get');
	</script>

	<script type="text/javascript">
		if ('@flag' == 'presentation') {
			$('#creategoogledoc').modal({
								  backdrop: 'static',
								  keyboard: false
								})
			$(".contentcreatedoc").empty();
			$('#creategoogledoc #floatingCirclesG').show();
			$
					.ajax({

						type : 'GET',
						url : 'googleDoc/presentation',

						success : function(data) {
							$('#creategoogledoc #floatingCirclesG').hide();
							String.prototype.startsWith = function(s) {
								if (this.indexOf(s) == 0)
									return true;
								return false;
							}
							if (data.toString().startsWith(
									"https://accounts.google.com/o/oauth2/")) {
								window.location.assign(data)
							} else {
								/*
								 * $("#creategoogledoc").modal(
								 * 'show');
								 */
								$(".contentcreatedoc").empty();
								$(".contentcreatedoc")
										.append(
												"<iframe id='googleStuff' style='width:100%;height:100%;border-radius:0 0 10px 10px;' frameborder='0' src="
														+ data[0] + "/>");
								$("#docUrl").attr("value", data[0])
								$("#docName").attr("value", data[1]);
								$("div.file-name").text(data[1]);
							}

						}
					});
						$
					.ajax({
						type : 'GET',
						url : '/allStreamsForAUser',

						success : function(data) {

							$("select#streamSelectOption").empty();
							$
									.each(
											data,
											function(index, value) {

												$("select#streamSelectOption")
														.append(
																"<option value="
																						+ value.stream.id.id
																						+ ">"
																		+ value.stream.streamName
																		+ "</option>");

											});

						}

					});
		}

		else if ('@flag' == 'spreadsheet') {
				$('#creategoogledoc').modal({
								  backdrop: 'static',
								  keyboard: false
								})
			$(".contentcreatedoc").empty();
			$('#creategoogledoc #floatingCirclesG').show();
			$
					.ajax({

						type : 'GET',
						url : 'googleDoc/spreadsheet',

						success : function(data) {
							$('#creategoogledoc #floatingCirclesG').hide();
							String.prototype.startsWith = function(s) {
								if (this.indexOf(s) == 0)
									return true;
								return false;
							}
							if (data.toString().startsWith(
									"https://accounts.google.com/o/oauth2/")) {
								window.location.assign(data)
							} else {
								/*
								 * $("#creategoogledoc").modal(
								 * 'show');
								 */
								$(".contentcreatedoc").empty();
								$(".contentcreatedoc")
										.append(
												"<iframe id='googleStuff' style='width:100%;height:100%;border-radius:0 0 10px 10px;' frameborder='0' src="
														+ data[0] + "/>");
								$("#docUrl").attr("value", data[0])
								$("#docName").attr("value", data[1]);
								$("div.file-name").text(data[1]);
							}
						}
					});
			$
					.ajax({

						type : 'GET',
						url : '/allStreamsForAUser',

						success : function(data) {

							$("select#streamSelectOption").empty();
							$
									.each(
											data,
											function(index, value) {

												$("select#streamSelectOption")
														.append(
																"<option value="
																						+ value.stream.id.id
																						+ ">"
																		+ value.stream.streamName
																		+ "</option>");

											});

						}

					});

		}

		else if ('@flag' == 'document') {
				$('#creategoogledoc').modal({
								  backdrop: 'static',
								  keyboard: false
								});
			$('#creategoogledoc #floatingCirclesG').show();
			$
					.ajax({
						type : 'GET',
						url : 'googleDoc/document',
						success : function(data) {
					
			$(".contentcreatedoc").empty();
							$('#creategoogledoc #floatingCirclesG').hide();
							String.prototype.startsWith = function(s) {
								if (this.indexOf(s) == 0)
									return true;
								return false;
							}
							if (data.toString().startsWith(
									"https://accounts.google.com/o/oauth2/")) {
								window.location.assign(data)
							} else {
								/*
								 * $("#creategoogledoc").modal(
								 * 'show');
								 */
								$(".contentcreatedoc").empty();

								$(".contentcreatedoc")
										.append(
												"<iframe id='googleStuff' style='width:100%;height:100%;border-radius:0 0 10px 10px;' frameborder='0' src="
														+ data[0] + "/>");
								$("#docUrl").attr("value", data[0]);
								$("#docName").attr("value", data[1]);
								$("div.file-name").text(data[1]);
							}
						}
					});

			$
					.ajax({

						type : 'GET',
						url : '/allStreamsForAUser',

						success : function(data) {

							$("select#streamSelectOption").empty();
							$
									.each(
											data,
											function(index, value) {

												$("select#streamSelectOption")
														.append(
																"<option value="
																				+ value.stream.id.id
																				+ ">"
																		+ value.stream.streamName
																		+ "</option>");

											});

						}

					});
		}

		else if ('@flag' == 'show') {
			$("#showgoogledoc").modal('show');

			$(".showgoogledocsSidebar").hide();

			$
					.ajax({

						type : 'GET',
						url : '/allStreamsForAUser',

						success : function(data) {

							$("select#streamSelectOption").empty();
							$
									.each(
											data,
											function(index, value) {

												$("select#streamSelectOption")
														.append(
																"<option value="
																						+ value.stream.id.id
																						+ ">"
																		+ value.stream.streamName
																		+ "</option>");
												// alert(value.stream.streamName);
											});

						}

					});

			$
					.ajax({

						type : 'GET',
						url : 'googleDoc/show',

						success : function(data) {
							$('#showgoogledoc #floatingCirclesG').hide();
							String.prototype.startsWith = function(s) {
								if (this.indexOf(s) == 0)
									return true;
								return false;
							}
							if (data.toString().startsWith("http")) {
								window.location.assign(data)
							} else {

								$("#docsview > .drive-view-row").remove();

								/*
								 * $("#showgoogledoc").modal(
								 * 'show');
								 */

								$
										.each(
												data,
												function(index, value) {
													var nameOfDocument = "Name Not Available";
													;
													if (value._1 != null) {
														nameOfDocument = value._1;
														var extention = value._1
																.split('.')[1];
													}
													if (extention == "ppt"
															|| extention == "pptx"
															|| extention == "odp") {
														$("#docsview")
																.append(
																		" <div class='drive-view-row'><div class='powerpoint-img'><img src='"+value._5 +"'></div><div class='doc-txt-container'><div class='doc-name'>"
																				+ nameOfDocument
																				+ "</div><div class='doc-info'><div class='owner'>OWNER: <span>"
																				+ value._4
																				+ "</span></div>"
																				+ "<div class='last-modified'>LAST MODIFIED:"
																				+ " <span>"
																				+ value._3
																				+ "</span></div></div></div>"
																				+ "<a class='preview-btn' target='_blank' href="
																								+ value._2
																								+ ">Preview</a><div class='preview-btn publishGdocs'  data-id='"
																								+ nameOfDocument
																								+ "' data-name="
																								+ value._2
																								+ ""
																								+ ">Publish</div></div>");

													}

													else if (extention == "xls"
															|| extention == "ods") {
														$("#docsview")
																.append(
																		" <div class='drive-view-row'><div class='spreadsheet-img'><img src='"+value._5 +"'></div><div class='doc-txt-container'><div class='doc-name'>"
																				+ nameOfDocument
																				+ "</div><div class='doc-info'>"
																				+ "<div class='owner'>OWNER: <span>"
																				+ value._4
																				+ "</span></div>"
																				+ "<div class='last-modified'>LAST MODIFIED:"
																				+ " <span>"
																				+ value._3
																				+ "</span></div></div></div>"
																				+ "<a class='preview-btn' target='_blank' href="
																								+ value._2
																								+ ">Preview</a><div class='preview-btn publishGdocs'  data-id='"
																								+ nameOfDocument
																								+ "' data-name="
																								+ value._2
																								+ ""
																								+ ">Publish</div></div>");

													}

													else {
														$("#docsview")
																.append(
																		" <div class='drive-view-row'><div class='text-img'><img src='"+value._5 +"'></div><div class='doc-txt-container'><div class='doc-name'>"
																				+ nameOfDocument
																				+ "</div><div class='doc-info'>"
																				+ "<div class='owner'>OWNER: <span>"
																				+ value._4
																				+ "</span></div>"
																				+ "<div class='last-modified'>LAST MODIFIED:"
																				+ " <span>"
																				+ value._3
																				+ "</span></div></div></div>"
																				+ "<a class='preview-btn' target='_blank' href="
																								+ value._2
																								+ ">Preview</a><div class='preview-btn publishGdocs' data-id='"
																								+ nameOfDocument
																								+ "' data-name="
																								+ value._2
																								+ ""
																								+ ">Publish</div></div>");

													}

												});

							}
						}

					});

		} else if ('@flag' == 'upload') {
			$.ajax({

				type : 'GET',
				url : 'googleDoc/upload',

				success : function(data) {

					String.prototype.startsWith = function(s) {
						if (this.indexOf(s) == 0)
							return true;
						return false;
					}
					if (data.toString().startsWith("http")) {
						window.location.assign(data)
					} else {
						$("#uploadgoogledoc").modal('show');
					}

				}

			});

		} else if ('@flag' == 'failure') {
		     alert("Use another Gmail Account");
		} else if ('@flag'.length == 31){
		     var docId = '@flag'.split(" ")[1];
		     var accessURL = "/googleDocURL/" + docId;
		    $.ajax({										
				    type: 'GET',	           
					url: accessURL,
				    success: function(data){
				        var docUrl = data.documentURL;
						$("#current-date-googleDoc").text(data.creationDate);	            
						$.ajax({
						type : 'GET',
						url : 'googleDoc/access ' + docId,
						success : function(data) {
							if (data == true) {
						    $('#iframe-').attr('src', docUrl);
							$('#document-').modal("show");
							} else {
							  bootbox.dialog("Do you want to Request Access?", [
								{
									"label" : "Yes",
									"callback" : function() {
															
										$.ajax({
										type : 'GET',
										url : 'requestAccess/' + docId,
										success : function() {
										}
									});
								  }
								}, 
								{
									"label" : "No",
									"callback" : function() {
								     }
								}
							  ]
							);
						 }														
						}
					});
				}
										
			});
		}
	</script>

	} 
